# Python `fbchat`åº“

> åŸæ–‡ï¼š<https://www.javatpoint.com/python-fbchat-library>

åƒ Python è¿™æ ·çš„ç¼–ç¨‹è¯­è¨€ä¹‹æ‰€ä»¥å¼ºå¤§ï¼Œæ˜¯å› ä¸ºå®ƒä¸ºç”¨æˆ·æä¾›äº†å¹¿æ³›çš„æ¨¡å—å’Œåº“ã€‚è¿™æ¬¡æˆ‘ä»¬å°†æ¢ç´¢å…¶ä¸­çš„ä¸€ä¸ªã€‚å¯èƒ½ä¼šæœ‰è¿™æ ·æˆ–é‚£æ ·çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¯ä¸ªäººéƒ½å¸Œæœ›æ”¶åˆ°æˆ‘ä»¬çš„è„¸ä¹¦æœ‹å‹å‘æ¥çš„ä¿¡æ¯(æˆ–åƒåœ¾é‚®ä»¶)ã€‚èƒ½å¤Ÿåœ¨è„¸ä¹¦ä¿¡ä½¿ä¸­è‡ªåŠ¨åŒ–æ´»åŠ¨å¹¶åˆ¶ä½œæ”¯æŒæœºå™¨äººä¼¼ä¹å¾ˆæœ‰è¶£ã€‚åœ¨ä¸‹é¢çš„æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•ä½¿ç”¨ Python ç¼–ç¨‹è¯­è¨€åœ¨è„¸ä¹¦ä¿¡ä½¿ä¸­è¿›è¡Œè¿æ¥ï¼Œå¹¶æ‰§è¡Œå„ç§ä»¤äººæƒŠå¹çš„äº‹æƒ…ã€‚

è¿™ä¸€å£°æ˜æš—ç¤ºæˆ‘ä»¬å°†æ‰§è¡Œç›¸åŒçš„è·å–/å‘å¸ƒè¯·æ±‚ï¼Œå¹¶æ¬ºéª—è„¸ä¹¦è®¤ä¸ºå®ƒæ­£åœ¨æ­£å¸¸è®¿é—®ç½‘ç«™ã€‚æˆ‘ä»¬å°†éœ€è¦ä¸€ä¸ªåä¸º **fbchat** çš„ Python åº“ï¼Œå®ƒå…è®¸ç¨‹åºå‘˜ä¸ºè¿™ä¸ªæ“ä½œæ¨¡æ‹Ÿæµè§ˆå™¨ã€‚æ‰€ä»¥è¿™ä¸ª API(API)ä¸æ˜¯å®˜æ–¹çš„ï¼Œä¸éœ€è¦ä»»ä½• API å¯†é’¥ã€‚ä½†æ˜¯ï¼Œå®ƒéœ€è¦è„¸ä¹¦å¸æˆ·çš„å‡­æ®ã€‚

é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚

## Python `fbchat`åº“ç®€ä»‹

Python ç¼–ç¨‹è¯­è¨€ä¸­çš„ **fbchat** åº“åˆ©ç”¨ç”µå­é‚®ä»¶æ ‡è¯†å’Œå¯†ç ä¸è„¸ä¹¦æœåŠ¡å™¨é€šä¿¡ã€‚è¿™ç§è¯´æ³•æ„å‘³ç€ï¼Œå¦‚æœæœ‰äººåœ¨ç¼–å†™ä»£ç æ—¶å·å·è¿›å…¥å¯†ç ï¼Œæˆ‘ä»¬åº”è¯¥å§‹ç»ˆå°†å¯†ç å­˜å‚¨åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚æˆ‘ä»¬è¿˜åº”è¯¥ç¡®ä¿æ–‡ä»¶çš„è®¿é—®æ§åˆ¶å—åˆ°é€‚å½“çš„é™åˆ¶ã€‚

ä¸ºäº†å®‰è£… **fbchat** åº“ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ pip å®‰è£…ç¨‹åºæ‰§è¡Œå¦‚ä¸‹æ‰€ç¤ºçš„å‘½ä»¤:

**è¯­æ³•:**

```py

$ pip3 install fbchat

```

ä¸ºäº†éªŒè¯åº“å®‰è£…æ˜¯å¦æ­£ç¡®ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶æ·»åŠ  **import** è¯­å¥ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦è¿”å›ä»»ä½•é”™è¯¯ã€‚

**æ–‡ä»¶:éªŒè¯. py**

```py

import fbchat

```

ç°åœ¨ï¼Œä¿å­˜ Python æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨å‘½ä»¤æç¤ºç¬¦è¿è¡Œæ‰§è¡Œå‘½ä»¤:

**è¯­æ³•:**

```py

$ python verify.py

```

å¦‚æœä¸Šé¢çš„ Python æ–‡ä»¶æ²¡æœ‰å¼•èµ·ä»»ä½•å¯¼å…¥é”™è¯¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›å…¥è„¸ä¹¦ä¿¡ä½¿æœºå™¨äººæ„å»ºç¨‹åºäº†ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®ƒç¡®å®å¼•å‘äº†å¼‚å¸¸ï¼Œå»ºè®®é‡æ–°å®‰è£…åº“å¹¶å‚è€ƒå…¶å®˜æ–¹æ–‡æ¡£ã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬äº†è§£ä¸€ä¸‹ **fbchat** åº“çš„åŸºç¡€çŸ¥è¯†ã€‚

### ç™»å½•

æˆ‘ä»¬å¯ä»¥ç®€å•åœ°åˆ›å»ºä¸€ä¸ª **fbchat** åº“çš„**å®¢æˆ·ç«¯**ç±»çš„å®ä¾‹ã€‚å¦‚æœæˆ‘ä»¬å¯ç”¨äº†åŒå› ç´ èº«ä»½éªŒè¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç»ˆç«¯æç¤ºä¸­é”®å…¥ä»£ç (å¦‚æœæˆ‘ä»¬æƒ³ä»¥å¦ä¸€ç§æ–¹å¼æä¾›ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è¦†ç›–**å®¢æˆ·ç«¯ã€‚2FACode** åŠŸèƒ½ã€‚

ç°åœ¨è®©æˆ‘ä»¬åœ¨ä¸‹é¢çš„è¯­æ³•ä¸­çœ‹åˆ°ç›¸åŒçš„å†…å®¹:

**ç¤ºä¾‹:**

```py

# importing the required modules
from fbchat import Client
from fbchat.models import *

# input username and password of the Facebook account
username = "example@website.com"
password = "password2email"

# creating an object of the Client class
clientObj = Client(username, password)

```

**è¯´æ˜:**

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬ä» **fbchat** åº“ä¸­å¯¼å…¥äº†**å®¢æˆ·ç«¯**ç±»ä»¥åŠ **fbchat.models** ä¸­çš„å‡½æ•°ã€‚æˆ‘ä»¬å·²ç»å®šä¹‰äº†è„¸ä¹¦è´¦æˆ·çš„**ç”¨æˆ·å**å’Œ**å¯†ç **ã€‚æœ€åï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª**å®¢æˆ·ç«¯**ç±»çš„å¯¹è±¡ï¼ŒæŒ‡å®š**ç”¨æˆ·å**å’Œ**å¯†ç **ä½œä¸ºå…¶å‚æ•°ï¼Œå…è®¸æˆ‘ä»¬è®¿é—®è„¸ä¹¦å¸æˆ·ã€‚

ä»¥ä¸Šæä¾›çš„**ç”¨æˆ·å**å’Œ**å¯†ç **ä»…æ¼”ç¤ºäº†**å®¢æˆ·ç«¯**ç±»çš„å·¥ä½œæƒ…å†µï¼Œå¹¶æœªè¾¾åˆ°çœŸæ­£çš„ç›®çš„ã€‚ä½†æ˜¯ï¼Œéœ€è¦åˆ†åˆ«ç”¨å®é™…çš„ç”µå­é‚®ä»¶æ ‡è¯†å’Œå¯†ç æ›¿æ¢å˜é‡å­—ç¬¦ä¸²ã€‚

ä¸æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç å¯èƒ½ä¼šå¯¼è‡´è¿æ¥åˆ°è„¸ä¹¦å¸æˆ·æ—¶å‡ºç°å¼‚å¸¸ã€‚

åœ¨æ•´ä¸ªä»£ç ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ£€æŸ¥æˆ‘ä»¬æ˜¯å¦ä»ç„¶ç™»å½•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨**å®¢æˆ·ç«¯**ç±»çš„ **isLoggedIn()** åŠŸèƒ½ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**å®¢æˆ·ç«¯**ç±»çš„**ç™»å½•()**åŠŸèƒ½ç™»å½•è„¸ä¹¦è´¦æˆ·ã€‚

è®©æˆ‘ä»¬è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼Œå¦‚æœæ³¨é”€ï¼Œæˆ‘ä»¬å¸Œæœ›å†æ¬¡ç™»å½•ã€‚

**ç¤ºä¾‹:**

```py

# importing the required modules
from fbchat import Client
from fbchat.models import *

# input username and password of the Facebook account
username = "example@website.com"
password = "password2email"

# creating an object of the Client class
clientObj = Client(username, password)

# checking if we are logged in or not
if not clientObj.isLoggedIn():
    # logging in using the login() function
    clientObj.login(username, password)

```

**è¯´æ˜:**

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† **if** è¯­å¥æ¥æ£€æŸ¥æˆ‘ä»¬æ˜¯å¦ä½¿ç”¨äº† **isLoggedIn()** åŠŸèƒ½ç™»å½•äº†è„¸ä¹¦å¸æˆ·ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨äº†**ç™»å½•()**åŠŸèƒ½ï¼ŒæŒ‡å®š**ç”¨æˆ·å**å’Œ**å¯†ç **å¦‚æœæˆ‘ä»¬æ³¨é”€äº†ï¼Œå¯ä»¥å†æ¬¡ç™»å½•ã€‚

ä¸€æ—¦æˆ‘ä»¬ä½¿ç”¨å®Œå®¢æˆ·ç«¯å¹¶æƒ³è¦å®‰å…¨æ³¨é”€ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨**æ³¨é”€()**åŠŸèƒ½ã€‚

å…¶è¯­æ³•å¦‚ä¸‹æ‰€ç¤º:

**ç¤ºä¾‹:**

```py

# importing the required modules
from fbchat import Client
from fbchat.models import *

# input username and password of the Facebook account
username = "example@website.com"
password = "password2email"

# creating an object of the Client class
clientObj = Client(username, password)

# logging out
clientObj.logout()

```

**è¯´æ˜:**

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å®¢æˆ·ç«¯ç±»çš„**æ³¨é”€()**åŠŸèƒ½ä»¥åŠ**å®¢æˆ·ç«¯çš„å¯¹è±¡**æ¥æ³¨é”€ã€‚

### ç†è§£çº¿ç¨‹

ä¸€ä¸ªçº¿ç´¢å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸¤ä»¶äº‹:ä¸€ä¸ªä¿¡ä½¿ç¾¤èŠæˆ–ä¸€ä¸ªå•ä¸€çš„è„¸ä¹¦ç”¨æˆ·ã€‚

**çº¿ç¨‹ç±»å‹**æ˜¯ä¸€ä¸ªæœ‰ä¸¤ä¸ªå€¼çš„æšä¸¾å™¨ã€‚ç¬¬ä¸€ä¸ªå€¼æ˜¯**ç”¨æˆ·**ï¼Œå¦ä¸€ä¸ªå€¼æ˜¯**é›†å›¢**ã€‚è¿™äº›å°†æŒ‡å®šè¯¥çº¿ç¨‹æ˜¯å•ç”¨æˆ·èŠå¤©è¿˜æ˜¯ç¾¤èŠã€‚è¿™æ˜¯ **fbchat** åº“çš„å¤šç§åŠŸèƒ½æ‰€å¿…éœ€çš„ï¼Œå› ä¸ºè„¸ä¹¦å¯ä»¥åœ¨å†…éƒ¨åŒºåˆ†è¿™ä¸¤ç§åŠŸèƒ½ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**å®¢æˆ·ç«¯**ç±»çš„ **searchForGroups** æ–¹æ³•æœç´¢ç¾¤èŠå¹¶æ‰¾åˆ°ä»–ä»¬çš„ IDã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨**æœç´¢ç”¨æˆ·**æ–¹æ³•æ¥æœç´¢ç”¨æˆ·ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹çš„åé¢è®¨è®ºå®ƒã€‚

æˆ‘ä»¬å¯ä»¥åœ¨å®¢æˆ·ç«¯ç±»çš„ **uid** æ–¹æ³•çš„å¸®åŠ©ä¸‹æ£€ç´¢æˆ‘ä»¬çš„ç”¨æˆ·æ ‡è¯†ã€‚

æˆ‘ä»¬è¿˜å¯ä»¥æ£€ç´¢ç¾¤èŠ IDã€‚ç„¶è€Œï¼ŒåŒæ ·çš„ç¨‹åºç›¸å½“çç¢ã€‚å› ä¸ºæˆ‘ä»¬åªéœ€è¦å¯¼èˆªåˆ°[https://www.facebook.com/messages/](https://www.facebook.com/messages/)ï¼Œç„¶åæˆ‘ä»¬å°†ä¸å¾—ä¸ç‚¹å‡»æˆ‘ä»¬æƒ³è¦æ‰¾åˆ°çš„ç»„çš„ IDï¼Œç„¶åä»åœ°å€æ è¯»å– IDã€‚ç½‘å€å°†æ˜¾ç¤ºå¦‚ä¸‹:https://www.facebook.com/messages/t/123456789,ï¼Œå…¶ä¸­ 123456789 å°†æ˜¯ç¾¤èŠçš„æ ‡è¯†ã€‚

æˆ‘ä»¬å¯ä»¥å¯¹å‡ ä¸ªç”¨æˆ·å¸æˆ·åº”ç”¨ç›¸åŒçš„æ–¹æ³•ï¼Œå°½ç®¡å¦‚æœä»–ä»¬è®¾ç½®äº†è‡ªå®šä¹‰çš„ç½‘å€ï¼Œæˆ‘ä»¬å°†åªçœ‹åˆ°é‚£ä¸ªç½‘å€ã€‚

è®©æˆ‘ä»¬è€ƒè™‘ä¸‹é¢çš„ä»£ç ç‰‡æ®µï¼Œæ¼”ç¤ºçº¿ç¨‹æ ‡è¯†å’Œçº¿ç¨‹ç±»å‹çš„ä½¿ç”¨ã€‚

**ç¤ºä¾‹:**

```py

# importing the required modules
from fbchat import Client
from fbchat.models import *

# input username and password of the Facebook account
username = "example@website.com"
password = "password2email"

# creating an object of the Client class
clientObj = Client(username, password)

# sending some message to user and group
clientObj.send(Message(text = 'some message'), thread_id = '', thread_type = ThreadType.USER)
clientObj.send(Message(text = 'some message'), thread_id = '<group_id>', thread_type = ThreadType.GROUP)

# logging out
clientObj.logout()</group_id> 
```

**è¯´æ˜:**

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å·²ç»å¼€å§‹å¯¼å…¥æ‰€éœ€çš„åº“å¹¶æä¾›**ç”¨æˆ·å**å’Œ**å¯†ç **ã€‚ç„¶åæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª**å®¢æˆ·ç«¯**ç±»çš„å¯¹è±¡ã€‚ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨ **send()** åŠŸèƒ½ï¼Œå°†æ–‡æœ¬æ¶ˆæ¯è¿åŒçº¿ç¨‹ ID å’Œçº¿ç¨‹ç±»å‹æŒ‡å®šä¸º **USER** å’Œ **GROUP** ã€‚æœ€åï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨**æ³¨é”€()**åŠŸèƒ½æ³¨é”€äº†ã€‚

æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œæˆ‘ä»¬å·²ç»æä¾›äº†çº¿ç¨‹æ ‡è¯†å’Œçº¿ç¨‹ç±»å‹æ¥å¯åŠ¨å‡½æ•°ã€‚ç„¶è€Œï¼Œæœ‰äº›å‡½æ•°æ ¹æœ¬ä¸éœ€è¦çº¿ç¨‹ç±»å‹ã€‚ä¸€ä¸ªè¿™æ ·çš„åŠŸèƒ½å¯ä»¥æ˜¯**æ›´æ”¹èºçº¹é¢œè‰²**ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¿…é¡»æä¾›çº¿ç¨‹æ ‡è¯†ã€‚

è®©æˆ‘ä»¬è€ƒè™‘ä¸‹é¢çš„ä¾‹å­æ¥è¯æ˜è¿™ä¸€ç‚¹:

**ç¤ºä¾‹:**

```py

# importing the required modules
from fbchat import Client
from fbchat.models import *

# input username and password of the Facebook account
username = "example@website.com"
password = "password2email"

# creating an object of the Client class
clientObj = Client(username, password)

# changing the Thread Colors
clientObj.changeThreadColor(ThreadColor.BRIGHT_TURQUOISE, thread_id = '')
clientObj.changeThreadColor(ThreadColor.DARK_TANGERINE, thread_id = '<group_id>')

# logging out
clientObj.logout()</group_id> 
```

**è¯´æ˜:**

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å·²ç»å¯¼å…¥äº†æ‰€éœ€çš„æ¨¡å—ï¼Œå¹¶æä¾›äº†**ç”¨æˆ·å**å’Œ**å¯†ç **ã€‚ç„¶åæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª**å®¢æˆ·ç«¯**ç±»çš„å¯¹è±¡ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨äº†**å®¢æˆ·ç«¯**ç±»çš„ **changeThreadColor** åŠŸèƒ½æ¥æ›´æ”¹çº¿ç¨‹çš„é¢œè‰²ã€‚æˆ‘ä»¬å·²ç»åœ¨å‡½æ•°ä¸­æŒ‡å®šäº†çº¿ç¨‹é¢œè‰²å’Œçº¿ç¨‹æ ‡è¯†ã€‚æœ€åï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨**æ³¨é”€()**åŠŸèƒ½æ³¨é”€äº†ã€‚

### äº†è§£æ¶ˆæ¯æ ‡è¯†

æˆ‘ä»¬åœ¨è„¸ä¹¦ä¸Šå‘é€çš„æ¯æ¡æ¶ˆæ¯éƒ½ç”±ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç»„æˆï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œçš„æ¯é¡¹æ´»åŠ¨ï¼Œä¾‹å¦‚æ›´æ”¹æ˜µç§°æˆ–æ·»åŠ ä¸ªäººï¼Œéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ã€‚

**fbchat** åº“çš„ä¸€äº›åŠŸèƒ½éœ€è¦è¿™äº› IDï¼Œæ¯”å¦‚**reactomessage**ï¼Œå…¶ä¸­ä¸€äº›åŠŸèƒ½æä¾›è¿™ä¸ª IDï¼Œæ¯”å¦‚ **sendMessage** ã€‚

è®©æˆ‘ä»¬è€ƒè™‘ä¸‹é¢æ¼”ç¤ºè¿™äº›å‡½æ•°ä½¿ç”¨çš„ä¾‹å­ã€‚

**ç¤ºä¾‹:**

```py

# importing the required modules
from fbchat import Client
from fbchat.models import *

# input username and password of the Facebook account
username = "example@website.com"
password = "password2email"

# creating an object of the Client class
clientObj = Client(username, password)

# getting the message ID
messageID = clientObj.send(Message(text = 'message'), thread_id = clientObj.uid, thread_type = '')

# using the message ID to react to message
clientObj.reactToMessage(messageID, MessageReaction.LOVE)

# logging out
clientObj.logout() 
```

**è¯´æ˜:**

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å·²ç»å¯¼å…¥äº†æ‰€éœ€çš„æ–¹æ³•ï¼Œå¹¶æä¾›äº†**ç”¨æˆ·å**å’Œ**å¯†ç **ã€‚ç„¶åæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª**å®¢æˆ·ç«¯**ç±»çš„å¯¹è±¡ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨**å‘é€()**åŠŸèƒ½æ£€ç´¢æ¶ˆæ¯æ ‡è¯†ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ¶ˆæ¯æ ‡è¯†ï¼Œä»¥ä¾¿åœ¨**reactomessage()**çš„å¸®åŠ©ä¸‹å¯¹æ¶ˆæ¯åšå‡ºååº”ï¼Œå…¶ä¸­æˆ‘ä»¬å°†**æ¶ˆæ¯æ ‡è¯†**å’Œ**æ¶ˆæ¯ååº”**ä¸€èµ·æŒ‡å®šä¸º**çˆ±æƒ…**è¡¨æƒ…ç¬¦å·ã€‚

### ä¸çº¿ç¨‹çš„äº¤äº’

**fbchat** åº“æä¾›äº†ä¸åŒçš„åŠŸèƒ½ï¼Œä»¥ä¾¿æˆ‘ä»¬ä¸çº¿ç¨‹è¿›è¡Œäº¤äº’ã€‚

å¤§å¤šæ•°åŠŸèƒ½é€‚ç”¨äºæ‰€æœ‰çº¿ç¨‹ï¼Œä½†æœ‰äº›åŠŸèƒ½ï¼Œå¦‚åœ¨ç¾¤èŠä¸­æ·»åŠ ç”¨æˆ·å’Œåˆ é™¤ç”¨æˆ·ï¼Œé€»è¾‘ä¸Šåªé€‚ç”¨äºç¾¤èŠã€‚

ä¸‹è¡¨æè¿°äº†ç”¨äºä¸çº¿ç¨‹äº¤äº’çš„ä¸€äº›å‡½æ•°:

| å—å·ç  | åŠŸèƒ½ | æè¿° |
| one | **å‘é€** | æ­¤åŠŸèƒ½ç”¨äºå‘ç”¨æˆ·æˆ–ç»„å‘é€æ¶ˆæ¯ã€‚ |
| Two | **sendLocalImage** | æ­¤åŠŸèƒ½ç”¨äºå‘é€ä½äºæœ¬åœ°çš„å›¾åƒã€‚ |
| three | **å‘é€è¿œç¨‹å›¾åƒ** | è¯¥åŠŸèƒ½ç”¨äºä»ç½‘å€ä¸‹è½½å¹¶å‘é€å›¾åƒã€‚ |
| four | **addUsersToGroup** | æ­¤åŠŸèƒ½ç”¨äºå‘ç»„ä¸­æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªç”¨æˆ·ã€‚ |
| five | **åˆ é™¤ç”¨æˆ·æ¥è‡ªç»„** | æ­¤åŠŸèƒ½ç”¨äºä»ç»„ä¸­åˆ é™¤ç”¨æˆ·ã€‚ |
| six | **æ›´æ”¹æ˜µç§°** | æ­¤åŠŸèƒ½ç”¨äºæ›´æ”¹ç”¨æˆ·çš„æ˜µç§°ã€‚ |
| seven | **æ›´æ”¹çº¿ç¨‹æ ‡é¢˜** | è¿™ä¸ªå‡½æ•°æœ‰åŠ©äºæ”¹å˜çº¿ç¨‹çš„æ ‡é¢˜ã€‚ |
| eight | **è®¾ç½®å‹å¼çŠ¶æ€** | è¯¥åŠŸèƒ½æœ‰åŠ©äºå°†æ‰“å­—çŠ¶æ€è®¾ç½®ä¸ºæ‰“å­—æˆ–åœæ­¢ã€‚ |
| nine | **changeThreadColor** | æ­¤åŠŸèƒ½ç”¨äºæ›´æ”¹èºçº¹çš„é¢œè‰²ã€‚ |
| Ten | å˜çº¿ç¨‹åŠ¨ç”»é›† | è¿™ä¸ªå‡½æ•°æœ‰åŠ©äºæ”¹å˜çº¿ç¨‹ä¸­çš„è¡¨æƒ…ç¬¦å·ã€‚ |
| Eleven | åä½œç”¨æ¶ˆæ¯ | æ­¤åŠŸèƒ½æœ‰åŠ©äºå¯¹æ¶ˆæ¯åšå‡ºååº”ã€‚ |

è®©æˆ‘ä»¬è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼Œæ¼”ç¤ºä¸Šè¿°å‡½æ•°åœ¨ä¸çº¿ç¨‹äº¤äº’ä¸­çš„ä½¿ç”¨ã€‚

**ç¤ºä¾‹:**

```

# importing the required modules
from fbchat import Client
from fbchat.models import *

# input username and password of facebook account
username = "example@website.com"
password = "password2email"

# creating an object of Client class
clientObj = Client(username, password)

# specifying the thread ID and type
threadID = "1234567890"
threadType = ThreadType.GROUP

# sending a message to the thread
clientObj.send(
    Message(text = "some text message"),
    thread_id = threadID,
    thread_type = threadType
    )

# sending the emoji `ğŸ‘`
clientObj.send(
    Message(text = "ğŸ‘", emoji_size = EmojiSize.LARGE),
    thread_id = threadID,
    thread_type = threadType
)

# sending the sticker with ID `767334476626295`
clientObj.send(
    Message(sticker = Sticker("767334476626295")),
    thread_id = threadID,
    thread_type = threadType
)

# sending a message with a mention
clientObj.send(
    Message(
        text = "An example of @mention",
        mentions = [Mention(
            threadID,
            offset = 10,
            length = 8
            )]),
    thread_id = threadID,
    thread_type = threadType
)

# sending the image located at `<path_to_image_file>`
clientObj.sendLocalImage(
    "<path_to_image_file>",
    message = Message(text = "This is a local image"),
    thread_id = threadID,
    thread_type = threadType
)

# downloading the image at the URL `<url_to_image_file>`, and then sending it
clientObj.sendRemoteImage(
    "<url_to_image_file>",
    message = Message(text = "This is a remote image"),
    thread_id = threadID,
    thread_type = threadType
)

# Only do these actions if the thread is a group
if threadType == ThreadType.GROUP:
    # removing the user with ID `<user_id>` from the thread
    clientObj.removeUserFromGroup("<user_id>", thread_id = threadID)

    # adding the user with ID `<user_id>` to the thread
    clientObj.addUsersToGroup("<user_id>", thread_id = threadID)

    # adding the users with IDs `<First_user_id>`, `<Second_user_id>` and `<Third_user_id>` to the thread
    clientObj.addUsersToGroup(
        ["<First_user_id>", "<Second_user_id>", "<Third_user_id>"], thread_id = threadID
    )

# changing the nickname of the user `<user_id>` to `<new_nickname>`
clientObj.changeNickname(
    "<new_nickname>", "<user_id>", thread_id = threadID, thread_type = threadType
)

# changing the title of the thread to `<title>`
clientObj.changeThreadTitle("<some_title>", thread_id = threadID, thread_type = threadType)

# setting the typing status of the thread to `TYPING`
clientObj.setTypingStatus(
    TypingStatus.TYPING,
    thread_id = threadID,
    thread_type = threadType
)

# changing the thread color to `RADICAL_RED`
clientObj.changeThreadColor(ThreadColor.RADICAL_RED, thread_id = threadID)

# changing the thread emoji to `ğŸ‘`
clientObj.changeThreadEmoji("ğŸ‘", thread_id = threadID)

# reacting to a message with a ğŸ˜ emoji
clientObj.reactToMessage("<messageID>", MessageReaction.LOVE)

```py

**è¯´æ˜:**

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å·²ç»å¯¼å…¥äº†æ‰€éœ€çš„æ¨¡å—ï¼Œå¹¶æä¾›äº†**ç”¨æˆ·å**å’Œ**å¯†ç **ã€‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª**å®¢æˆ·ç«¯**ç±»çš„å®ä¾‹ï¼Œå¹¶æŒ‡å®šäº†çº¿ç¨‹æ ‡è¯†å’Œç±»å‹ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸åŒçš„åŠŸèƒ½æ¥ä¸çº¿ç¨‹è¿›è¡Œäº¤äº’ï¼Œä»å‘é€æ–‡æœ¬æ¶ˆæ¯å’Œè¡¨æƒ…ç¬¦å·åˆ°æ›´æ”¹çº¿ç¨‹é¢œè‰²å’Œè¡¨æƒ…ç¬¦å·ã€‚ç”±äºæˆ‘ä»¬æ­£åœ¨è¿›è¡Œ**ç¾¤ç»„**èŠå¤©ï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨äº†åœ¨ç¾¤ç»„ä¸­æ·»åŠ å’Œåˆ é™¤ç”¨æˆ·çš„æ“ä½œã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨äº†åœ¨æœ¬åœ°å’Œç‰¹å®šçš„ç½‘å€ä¸Šå‘é€å›¾åƒçš„åŠŸèƒ½ã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬äº†è§£å¦‚ä½•ä½¿ç”¨ **fbchat** åº“è·å–ä¿¡æ¯ã€‚

### è·å–ä¿¡æ¯

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ **fbchat** åº“æ¥è·å–å…³äºç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ï¼Œä¾‹å¦‚ä»–ä»¬çš„ç”¨æˆ·åã€ä¸ªäººèµ„æ–™å›¾ç‰‡ã€çº¿ç¨‹åç§°å’Œç”¨æˆ·æ ‡è¯†ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**å®¢æˆ·ç«¯**ç±»çš„**æœç´¢ç”¨æˆ·**åŠŸèƒ½æ¥æ£€ç´¢ç”¨æˆ·æ ‡è¯†ã€‚è®©æˆ‘ä»¬è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼Œå®ƒæ¼”ç¤ºäº†å…è®¸æˆ‘ä»¬è·å–ç”¨æˆ·ä¿¡æ¯çš„å‡½æ•°çš„å·¥ä½œåŸç†ã€‚

**ç¤ºä¾‹:**

```

# importing the required modules
from fbchat import Client
from fbchat.models import *

# input username and password of facebook account
username = "example@website.com"
password = "password2email"

# creating an object of Client class
clientObj = Client(username, password)

# retrieving the User IDs
the_users = clientObj.searchForUsers('')
the_user = the_users[0]
# printing the information of the User
print("User ID: {}".format(the_user.uid))
print("Name of the User: {}".format(the_user.name))
print("Profile picture URL of the User: {}".format(the_user.photo))
print("Main URL of the URL: {}".format(the_user.url)) 
```py

**è¯´æ˜:**

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å·²ç»å¯¼å…¥äº†æ‰€éœ€çš„æ¨¡å—ï¼Œå¹¶åˆ›å»ºäº†ä¸€ä¸ª **Client** ç±»çš„å®ä¾‹ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨**æœç´¢ç”¨æˆ·**åŠŸèƒ½æ¥æ£€ç´¢ç”¨æˆ·æ ‡è¯†ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªç”¨æˆ·çš„å€¼å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ **uidã€å§“åã€ç…§ç‰‡ã€url** åŠŸèƒ½æ‰“å°äº†ç”¨æˆ·ä¿¡æ¯ã€‚

ç”±äºè¿™ä¸ªä¾‹å­åˆ©ç”¨äº†è„¸ä¹¦çš„æœç´¢åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¸éœ€è¦æŒ‡å®šå®Œæ•´çš„åç§°ï¼›åå­—é€šå¸¸å°±è¶³å¤Ÿäº†ã€‚

ç°åœ¨è®©æˆ‘ä»¬äº†è§£ä¼šè¯ã€‚

### ç†è§£ä¼šè¯

**fbchat** åº“æä¾›äº†æ£€ç´¢å’Œè®¾ç½®ä¼šè¯ cookies çš„åŠŸèƒ½ã€‚è¿™ä¸ªå‡½æ•°å°†å…è®¸æˆ‘ä»¬å°†ä¼šè¯ cookies å­˜å‚¨åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸å¿…æ¯æ¬¡å¼€å§‹è„šæœ¬æ—¶éƒ½ç™»å½•ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**å®¢æˆ·ç«¯**ç±»çš„**è·å–ä¼šè¯**åŠŸèƒ½æ¥æ£€ç´¢ cookiesã€‚å…¶è¯­æ³•å¦‚ä¸‹æ‰€ç¤º:

**è¯­æ³•:**

```

sessionCookies = clientObj.getSession()

```py

ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨**å®¢æˆ·ç«¯**ç±»çš„**è®¾ç½®ä¼šè¯**åŠŸèƒ½æ¥è®¾ç½®ä¼šè¯ã€‚å…¶è¯­æ³•å¦‚ä¸‹æ‰€ç¤º:

**è¯­æ³•:**

```

clientObj.setSession(sessionCookies)

```py

æˆ–è€…æˆ‘ä»¬å¯ä»¥åœ¨é¦–æ¬¡ç™»å½•æ—¶è®¾ç½® **session_cookies** ã€‚(å¦‚æœä¼šè¯ cookies æ— æ•ˆï¼Œå°†ä½¿ç”¨ç”µå­é‚®ä»¶å’Œå¯†ç ç™»å½•):

**è¯­æ³•:**

```

clientObj = Client('<email_ID>', '<password>', session_cookies = sessionCookies)

```py

**è­¦å‘Š:**ä¼šè¯ cookies å¯ä»¥å’Œå¯†ç ä¸€æ ·æœ‰ä»·å€¼ï¼Œæ‰€ä»¥å­˜å‚¨æ—¶è¦åŒæ ·å°å¿ƒã€‚

### å€¾å¬å’Œäº‹ä»¶

**fbchat** åº“è¿˜æä¾›äº†ç±»ä¼¼äº**å®¢æˆ·ç«¯**ç±»çš„**ç›‘å¬**åŠŸèƒ½çš„ç›‘å¬åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å½“æŸäº›äº‹ä»¶å‘ç”Ÿæ—¶åº”è¯¥æ‰§è¡Œä»€ä¹ˆã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ(å¤§å¤šæ•°)äº‹ä»¶å°†åªæ˜¯ä¸€ä¸ª **logging.info** è¯­å¥ï¼Œè¿™æ„å‘³ç€å½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå®ƒå°†ç®€å•åœ°å‘æ§åˆ¶å°æ‰“å°ç»†èŠ‚ã€‚

#### æ³¨æ„:æˆ‘ä»¬å¯ä»¥é€šè¿‡å‰ç¼€è¯†åˆ«äº‹ä»¶æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒonMessageã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡å­ç±»åŒ–**å®¢æˆ·ç«¯**ç„¶åè¦†ç›–äº‹ä»¶æ–¹æ³•æ¥æ”¹å˜äº‹ä»¶åŠ¨ä½œï¼Œå¦‚ä¸‹æ‰€ç¤º:

**è¯­æ³•:**

```

# creating a subclass of the Client class
class Custom_Client(Client):
    def onMessage(self, mid, author_id, message_object, thread_id, thread_type, ts, metadata, msg, **kwargs):
        # Perform something with message_object here
        pass

# creating an instance of Custom_Client class
clientObj = Custom_Client('<email_ID>', '<password>')

```

**è¯´æ˜:**

åœ¨ä¸Šé¢çš„è¯­æ³•ä¸­ï¼Œæˆ‘ä»¬å·²ç»å°†**å®¢æˆ·ç«¯**ç±»çš„å­ç±»å®šä¹‰ä¸º**è‡ªå®šä¹‰ _ å®¢æˆ·ç«¯**ã€‚åœ¨ç±»ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ä¸º **onMessage** ï¼Œå®ƒæ¥å—å¤šä¸ªå‚æ•°ï¼Œå¦‚ **selfã€midã€author_idã€message_objectã€thread_idã€thread_typeã€tsã€å…ƒæ•°æ®ã€msg** å’Œ ****kwargs** ã€‚äººä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™ä¸€äº›åŠŸèƒ½ã€‚æœ€åï¼Œæˆ‘ä»¬é€šè¿‡**ç”¨æˆ·å**å’Œ**å¯†ç **ä½œä¸ºå‚æ•°å®ä¾‹åŒ–äº† **Custom_Client** ç±»ã€‚

**onMessage** æ–¹æ³•å³ä½¿åœ¨æˆ‘ä»¬æ›´æ”¹æ–¹æ³•çš„å‚æ•°æ—¶ä¹Ÿå¯ä»¥å·¥ä½œï¼›ç„¶è€Œï¼Œæˆ‘ä»¬å¿…é¡»æŠŠ*** *å¤¸æ ¼æ–¯**åŒ…æ‹¬åœ¨å†…ã€‚

#### æ³¨æ„:å› æ­¤ï¼Œä¸ºäº†å‘åå’Œå‘å‰å…¼å®¹ï¼ŒAPI è¦æ±‚æˆ‘ä»¬åŒ…å«**kwargs ä½œä¸ºæœ€ç»ˆå‚æ•°ã€‚

æ›´å¤šä¿¡æ¯è§å®˜æ–¹æ–‡ä»¶ï¼Œç½‘å€ä¸º:

[https://fbchat . readthedocs . io/en/stable/intro . html](https://fbchat.readthedocs.io/en/stable/intro.html)

* * *